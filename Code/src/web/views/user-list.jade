extends admin-layout
include includes/mixins

block jumbo-desc
    p Admin Portal: User Directory

block admin-content
    p.lead Total Users: #{users.length}

    if users.length
        table.table.table-striped
            thead
                tr
                    if(currentUser.tier > 3)
                      th Agency                                              
                    th Username
                    th Name
                    th Email
                    th Role
                    th
            tbody
                each userInTable in users
                  if(userInTable.agency == currentUser.agency && userInTable.tier <= currentUser.tier || currentUser.tier > 3)
                    tr 
                        if(currentUser.tier > 3)
                          td #{userInTable.agencyName}
                        td #{userInTable.username}
                        td #{userInTable.fname} #{userInTable.lname}
                        td #{userInTable.email}
                        td #{userInTable.roleName()}
                        td: a.text-large(href="/admin/users/" + userInTable.id)
                            span.glyphicon.glyphicon-cog( aria-hidden="true" )

    a.btn.btn-default(href="/admin/users/create") Add New User
